# バージョニングとリリース運用

## セマンティックバージョニング

- バージョンは `MAJOR.MINOR.PATCH` 形式で定義する。
- 互換性の破壊を伴う場合は MAJOR を増分し、互換性維持で機能追加は MINOR、バグ修正のみは PATCH を増分する。
- 未リリースの変更は `main` ブランチの `CHANGELOG.md` に `Unreleased` セクションとして集約する。

## Git タグ命名規則

- 公開タグは `vMAJOR.MINOR.PATCH` 形式を採用し、必ず `CHANGELOG.md` の該当リリースと同期する。
- リハーサルや内部確認用タグは `pre/vMAJOR.MINOR.PATCH-YYYYMMDD` 形式で付与する。
- タグ作成後は `git push origin <tag>` でリモートへ公開し、差分をレビュー可能な状態にする。

## CHANGELOG 通番管理

- 各リリース項目の箇条書きは 4 桁ゼロ埋めの通番（`0001` など）を接頭辞として付与する。
- 通番は `CHANGELOG.md` の最新版から連番で採番し、重複を避ける。
- 通番を追加したコミットでは、対応する修正や機能の参照リンクを添える。

## 配布物チェックフロー

1. `docs/Release_Checklist.md` の該当バージョンを更新し、レビュワーと共有する。
2. パッケージング対象のアーティファクトを再生成し、ハッシュ値をリリースノートに記載する。
3. 署名が必要な配布物は `gpg --detach-sign` で署名し、検証手順を記載する。
4. 公開前に `npx --yes markdownlint-cli2 "**/*.md"` を実行してドキュメント整合性を確認する。
